<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ЁЯЫая╕П рж▓рж┐ржВржХ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue, remove } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC17r-Ty3DKLu9Z64WdZwG9xYYerHJRcwI",
      authDomain: "link-management-89e96.firebaseapp.com",
      projectId: "link-management-89e96",
      storageBucket: "link-management-89e96.firebasestorage.app",
      messagingSenderId: "909617203357",
      appId: "1:909617203357:web:8103ba9e46b0e13cc1ac74",
      databaseURL: "https://link-management-89e96-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    function addLink(link) {
      const linkRef = ref(db, 'links/');
      const newLink = push(linkRef);
      set(newLink, { url: link });
    }

    function deleteLink(key) {
      remove(ref(db, 'links/' + key));
    }

    const listContainer = document.getElementById("linkList");
    const linkRef = ref(db, 'links/');

    onValue(linkRef, (snapshot) => {
      listContainer.innerHTML = "";
      snapshot.forEach(child => {
        const key = child.key;
        const link = child.val().url;
        const li = document.createElement("li");
        li.innerHTML = `${link} <button onclick="deleteLink('${key}')">тЭМ</button>`;
        listContainer.appendChild(li);
      });
    });

    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById("addLinkForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const link = document.getElementById("linkInput").value;
        addLink(link);
        document.getElementById("linkInput").value = "";
      });
    });

    window.deleteLink = deleteLink;
  </script>
</head>
<body>
  <h2>ЁЯЫая╕П рж▓рж┐ржВржХ ржпрзБржХрзНржд ржХрж░рзБржи</h2>
  <form id="addLinkForm">
    <input type="text" id="linkInput" placeholder="рж▓рж┐ржВржХ ржжрж┐ржи" required />
    <button type="submit">тЮХ ржпрзБржХрзНржд ржХрж░рзБржи</button>
  </form>

  <h3>ЁЯУЛ рж╕ржм рж▓рж┐ржВржХ:</h3>
  <ul id="linkList"></ul>
</body>
  </html>
